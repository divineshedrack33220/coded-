<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coded Signals - Onboarding</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for smooth transitions and Instagram-like aesthetics */
        .slide {
            transition: transform 0.5s ease-in-out;
        }
        .carousel-container {
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
            /* Hide scrollbar for all browsers */
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
        .carousel-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, and other WebKit browsers */
        }
        .carousel-slide {
            scroll-snap-align: start;
        }
        .btn-gradient {
            background: linear-gradient(to right, #FF4DA6, #FF77C6);
        }
        .dark .btn-gradient {
            background: linear-gradient(to right, #FF4DA6, #FF77C6);
            box-shadow: 0 4px 15px rgba(255, 77, 166, 0.3);
        }
        /* Ensure images are responsive and maintain aspect ratio */
        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        /* Instagram-like image container sizing */
        .image-container {
            width: 100%;
            max-width: 280px; /* Instagram-like square size */
            aspect-ratio: 1/1;
        }
        /* Smooth dot transitions */
        .dot {
            transition: background-color 0.3s ease;
        }
        /* Prevent horizontal scrolling issues */
        body {
            overflow-x: hidden;
        }
        /* Background style to match profile page */
        body {
            background: rgba(31, 41, 55, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="text-gray-100 font-sans min-h-screen flex flex-col">
    <header class="py-4 px-6 flex justify-end">
        <button class="text-pink-500 dark:text-pink-400 font-medium text-lg" id="skipBtn">Skip</button>
    </header>

    <main class="flex-1 flex flex-col justify-between">
        <div class="carousel-container flex overflow-x-auto w-full snap-x snap-mandatory" id="carousel">
            <!-- Slide 1 -->
            <div class="carousel-slide w-full flex-shrink-0 px-4 sm:px-8 flex flex-col items-center justify-center">
                <div class="image-container mb-6 bg-gradient-to-br from-pink-100 to-pink-200 dark:from-pink-900 dark:to-pink-800 rounded-full flex items-center justify-center">
                    <img src="http://static.photos/people/640x360/1" alt="People chatting" class="rounded-full">
                </div>
                <h2 class="text-xl sm:text-2xl md:text-3xl font-bold mb-4 text-center font-poppins">Meet new people instantly.</h2>
                <p class="text-gray-300 text-center text-sm sm:text-base max-w-xs sm:max-w-md mx-auto font-inter">
                    Coded Signals helps you connect with friends, dates, or companions nearby in real-time.
                </p>
            </div>

            <!-- Slide 2 -->
            <div class="carousel-slide w-full flex-shrink-0 px-4 sm:px-8 flex flex-col items-center justify-center">
                <div class="image-container mb-6 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800 rounded-full flex items-center justify-center">
                    <img src="http://static.photos/technology/640x360/2" alt="Posting request" class="rounded-full">
                </div>
                <h2 class="text-xl sm:text-2xl md:text-3xl font-bold mb-4 text-center font-poppins">Post requests, connect fast.</h2>
                <p class="text-gray-300 text-center text-sm sm:text-base max-w-xs sm:max-w-md mx-auto font-inter">
                    Create instant requests like "I'm new in Abuja, looking for a friend," and nearby users will see it immediately.
                </p>
            </div>

            <!-- Slide 3 -->
            <div class="carousel-slide w-full flex-shrink-0 px-4 sm:px-8 flex flex-col items-center justify-center">
                <div class="image-container mb-6 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900 dark:to-green-800 rounded-full flex items-center justify-center">
                    <img src="http://static.photos/finance/640x360/3" alt="Security shield" class="rounded-full">
                </div>
                <h2 class="text-xl sm:text-2xl md:text-3xl font-bold mb-4 text-center font-poppins">Safe & secure connections.</h2>
                <p class="text-gray-300 text-center text-sm sm:text-base max-w-xs sm:max-w-md mx-auto font-inter">
                    With profile verification, reporting tools, and safety suggestions, your peace of mind comes first.
                </p>
            </div>
        </div>

        <div class="px-4 sm:px-8 py-6 flex flex-col items-center">
            <div class="flex justify-center mb-6">
                <div class="flex space-x-3">
                    <button class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600 dot" data-index="0"></button>
                    <button class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600 dot" data-index="1"></button>
                    <button class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600 dot" data-index="2"></button>
                </div>
            </div>

            <button id="nextBtn" class="btn-gradient w-full max-w-sm py-3 sm:py-4 rounded-full text-white font-medium text-base sm:text-lg transition hover:opacity-90">
                Next
            </button>
        </div>
    </main>

    <script>
        feather.replace();
        
        const carousel = document.getElementById('carousel');
        const dots = document.querySelectorAll('.dot');
        const nextBtn = document.getElementById('nextBtn');
        const skipBtn = document.getElementById('skipBtn');
        let currentIndex = 0;
        const totalSlides = 3;

        function updateUI() {
            // Update dots
            dots.forEach((dot, index) => {
                if (index === currentIndex) {
                    dot.classList.add('bg-pink-500', 'dark:bg-pink-400');
                    dot.classList.remove('bg-gray-300', 'dark:bg-gray-600');
                } else {
                    dot.classList.remove('bg-pink-500', 'dark:bg-pink-400');
                    dot.classList.add('bg-gray-300', 'dark:bg-gray-600');
                }
            });

            // Update button text
            if (currentIndex === totalSlides - 1) {
                nextBtn.textContent = 'Get Started';
            } else {
                nextBtn.textContent = 'Next';
            }

            // Scroll carousel
            carousel.scrollTo({
                left: currentIndex * carousel.offsetWidth,
                behavior: 'smooth'
            });
        }

        nextBtn.addEventListener('click', () => {
            if (currentIndex < totalSlides - 1) {
                currentIndex++;
                updateUI();
            } else {
                window.location.href = 'auth.html';
            }
        });

        skipBtn.addEventListener('click', () => {
            window.location.href = 'auth.html';
        });

        // Dot navigation
        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                currentIndex = parseInt(dot.getAttribute('data-index'));
                updateUI();
            });
        });

        // Swipe detection
        let touchStartX = 0;
        let touchEndX = 0;

        carousel.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        carousel.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const threshold = 50;
            const difference = touchStartX - touchEndX;
            
            if (difference > threshold && currentIndex < totalSlides - 1) {
                // Swipe left
                currentIndex++;
                updateUI();
            } else if (difference < -threshold && currentIndex > 0) {
                // Swipe right
                currentIndex--;
                updateUI();
            }
        }

        // Ensure initial UI state is correct
        updateUI();
    </script>
</body>
</html>